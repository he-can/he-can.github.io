<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>vue项目搭建</title>
    <url>/2021/05/13/vue%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p><img src="/2021/05/13/vue%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA/76.jpg"></p>
<a id="more"></a>

<h2 id="安装"><a href="#安装" class="headerlink" title=" 安装"></a><sectionNumberC></sectionNumberC> <hTtileC>安装</hTtileC></h2><p><strong>安装淘宝镜像</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm i -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>
<p><strong>安装vue-cli</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm i @vue/cli</span><br></pre></td></tr></table></figure>
<h2 id="二、搭建项目"><a href="#二、搭建项目" class="headerlink" title="二、搭建项目"></a>二、搭建项目</h2><p><strong>创建项目</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vue create 项目名</span><br></pre></td></tr></table></figure>
<p><strong>选择安装 vuex和router组件</strong></p>
<p><strong>安装element-ui和axios</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install axios</span><br><span class="line">npm install element-ui -S</span><br></pre></td></tr></table></figure>
<p><strong>在main.js添加</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> ElementUI <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-ui/lib/theme-chalk/index.css&#x27;</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 把axios挂在到vue的实例原型上</span></span><br><span class="line">Vue.prototype.$http = axios</span><br><span class="line"><span class="comment">// 配置请求的根路径</span></span><br><span class="line">axios.defaults.baseURL = <span class="string">&#x27;http://localhost:8001/&#x27;</span></span><br><span class="line">Vue.use(ElementUI)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 默认路由地址</span></span><br><span class="line"><span class="comment">// Eslint禁止下一行的undef</span></span><br><span class="line"><span class="comment">// eslint-disable-next-line no-undef</span></span><br><span class="line"><span class="comment">// vue.$router.replace(&#123;</span></span><br><span class="line"><span class="comment">//   path: &#x27;/&#x27;</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br></pre></td></tr></table></figure>
<p><strong><code>npm run serve</code>运行</strong></p>
]]></content>
      <categories>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>npm</tag>
      </tags>
  </entry>
  <entry>
    <title>前后端分离项目之后端Demo</title>
    <url>/2021/05/13/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E9%A1%B9%E7%9B%AE%E4%B9%8B%E5%90%8E%E7%AB%AFDemo/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p><img src="/2021/05/13/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E9%A1%B9%E7%9B%AE%E4%B9%8B%E5%90%8E%E7%AB%AFDemo/70.webp"></p>
<a id="more"></a>

<h2 id="项目架构"><a href="#项目架构" class="headerlink" title=" 项目架构"></a><sectionNumberC></sectionNumberC> <hTtileC>项目架构</hTtileC></h2><blockquote>
<p><strong class="ptys">xxxx</strong></p>
<blockquote>
<p><strong class="ptys">common</strong></p>
<blockquote>
<p><strong class="ptys">common-utils</strong></p>
<p><strong class="ptys">base-server</strong></p>
</blockquote>
<p><strong class="ptys">server</strong></p>
<blockquote>
<p><strong class="ptys">xxx-server</strong></p>
<p><strong class="ptys">xxx-server</strong></p>
</blockquote>
</blockquote>
</blockquote>
<h2 id="jar包"><a href="#jar包" class="headerlink" title=" jar包"></a><sectionNumberC></sectionNumberC> <hTtileC>jar包</hTtileC></h2><h3 id="父工程-版本控制-pom-xml"><a href="#父工程-版本控制-pom-xml" class="headerlink" title="父工程    版本控制    pom.xml"></a>父工程    版本控制    pom.xml</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.8.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">spring-cloud.version</span>&gt;</span>Hoxton.SR1<span class="tag">&lt;/<span class="name">spring-cloud.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">spring-cloud-alibaba.version</span>&gt;</span>2.1.1.RELEASE<span class="tag">&lt;/<span class="name">spring-cloud-alibaba.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mybatis-plus.version</span>&gt;</span>3.0.5<span class="tag">&lt;/<span class="name">mybatis-plus.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">swagger.version</span>&gt;</span>2.7.0<span class="tag">&lt;/<span class="name">swagger.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mysql.version</span>&gt;</span>5.1.47<span class="tag">&lt;/<span class="name">mysql.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">lombok.version</span>&gt;</span>1.18.16<span class="tag">&lt;/<span class="name">lombok.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-dependencies<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring-cloud.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">type</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">type</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>import<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-alibaba-dependencies<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring-cloud-alibaba.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">type</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">type</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>import<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;mybatis-plus.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;swagger.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger-ui<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;swagger.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;mysql.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;lombok.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="server-pom-xml"><a href="#server-pom-xml" class="headerlink" title="server pom.xml"></a>server pom.xml</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.ch<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>common-utils<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.ch<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>base-server<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--nacos 依赖--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-alibaba-nacos-discovery<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-alibaba-nacos-config<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--openfeign依赖--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-openfeign<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>fastjson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.72<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- swagger --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger-ui<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="common-pom-xml"><a href="#common-pom-xml" class="headerlink" title="common pom.xml"></a>common pom.xml</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger-ui<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="配置"><a href="#配置" class="headerlink" title=" 配置"></a><sectionNumberC></sectionNumberC> <hTtileC>配置</hTtileC></h2><h3 id="微服务配置"><a href="#微服务配置" class="headerlink" title="微服务配置"></a>微服务配置</h3><p><strong>添加</strong> <code>bootsrap.yml</code></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">服务名</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">nacos:</span></span><br><span class="line">      <span class="attr">config:</span></span><br><span class="line">        <span class="comment"># 配置中心服务器地址</span></span><br><span class="line">        <span class="attr">server-addr:</span> <span class="string">localhost:8848</span></span><br><span class="line">        <span class="comment"># 配置文件的后缀名</span></span><br><span class="line">        <span class="attr">file-extension:</span> <span class="string">yaml</span></span><br><span class="line">        <span class="comment"># 共享不同微服务的配置</span></span><br><span class="line">        <span class="attr">shared-dataids:</span> <span class="string">default-service.yaml</span></span><br><span class="line">        <span class="comment"># 实时刷新共享的配置信息</span></span><br><span class="line">        <span class="attr">refreshable-dataids:</span> <span class="string">default-service.yaml</span></span><br><span class="line">        <span class="comment"># 配置名称空间</span></span><br><span class="line">        <span class="attr">namespace:</span> <span class="string">abcd</span></span><br></pre></td></tr></table></figure>
<h3 id="nacos配置中心"><a href="#nacos配置中心" class="headerlink" title="nacos配置中心"></a>nacos配置中心</h3><p><strong>添加<code>default-service.yaml</code>全局默认配置</strong></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="number">1</span></span><br><span class="line">  <span class="comment"># 返回json的全局时间格式</span></span><br><span class="line">  <span class="attr">jackson:</span></span><br><span class="line">    <span class="attr">date-format:</span> <span class="string">yyyy-MM-dd</span> <span class="string">HH:mm:ss</span></span><br><span class="line">    <span class="attr">time-zone:</span> <span class="string">GMT+8</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">nacos:</span></span><br><span class="line">      <span class="attr">discovery:</span></span><br><span class="line">        <span class="attr">server-addr:</span> <span class="string">localhost:8848</span></span><br><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="attr">log-impl:</span> <span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br></pre></td></tr></table></figure>
<p><strong>添加微服务的配置    <code>服务名.yaml</code></strong></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">8001</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">    <span class="attr">datasource:</span></span><br><span class="line">        <span class="attr">url:</span> <span class="string">jdbc:mysql:///crm?serverTimezone=UTC&amp;Unicode=true&amp;characterEncoding=utf-8&amp;useSSL=true</span></span><br></pre></td></tr></table></figure>
<h2 id="编码"><a href="#编码" class="headerlink" title=" 编码"></a><sectionNumberC></sectionNumberC> <hTtileC>编码</hTtileC></h2><h3 id="common-utils"><a href="#common-utils" class="headerlink" title="common-utils"></a>common-utils</h3><p><strong>创建返回给前台的结果集(common-utils)  <code>com.ch.utils.vo.R</code></strong></p>
<p><strong>添加</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">R</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 是否成功</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> Boolean success;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 返回码</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> Integer code;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 返回消息</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String message;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 返回数据</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, Object&gt; data = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 构造方法私有化</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">R</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 成功</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> R <span class="title">ok</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        R r = <span class="keyword">new</span> R();</span><br><span class="line">        r.setSuccess(<span class="keyword">true</span>);</span><br><span class="line">        r.setCode(ResultCode.SUCCESS);</span><br><span class="line">        r.setMessage(<span class="string">&quot;成功&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 失败</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> R <span class="title">error</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        R r = <span class="keyword">new</span> R();</span><br><span class="line">        r.setSuccess(<span class="keyword">false</span>);</span><br><span class="line">        r.setCode(ResultCode.ERROR);</span><br><span class="line">        r.setMessage(<span class="string">&quot;失败&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 链式调用   R.ok().data(&quot;&quot;, value).data(&quot;&quot;,value2);</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> success</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">success</span><span class="params">(Boolean success)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.setSuccess(success);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">code</span><span class="params">(Integer code)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.setCode(code);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">message</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.setMessage(message);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">data</span><span class="params">(String key, Object value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.data.put(key, value);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>创建状态码接口(common-utils)  <code>com.ch.utils.vo.ResultCode</code></strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ResultCode</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 表示操作成功</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    Integer SUCCESS = <span class="number">20000</span>;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 表示操作失败</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    Integer ERROR = <span class="number">20001</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="entity-实体类"><a href="#entity-实体类" class="headerlink" title="entity 实体类"></a>entity 实体类</h3><p><strong>创建 <code>com.ch.customer.entity.Customer</code></strong></p>
<p><strong>添加</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span> <span class="comment">// lombok</span></span><br><span class="line"><span class="meta">@TableNmae(value = &quot;customer&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Customer</span> <span class="keyword">implements</span> <span class="title">Serializable</span></span>&#123;</span><br><span class="line">    <span class="comment">// id</span></span><br><span class="line">    <span class="comment">// idType.AUTO 自增列</span></span><br><span class="line">    <span class="meta">@TableId(value = &quot;cust_id&quot;, type = IdType.AUTO)</span></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="comment">// 普通列</span></span><br><span class="line">    <span class="meta">@TableField(value = &quot;cust_name&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="mapper-数据层"><a href="#mapper-数据层" class="headerlink" title="mapper 数据层"></a>mapper 数据层</h3><p><strong>创建 <code>com.ch.customer.mapper.CustomerMapper</code></strong></p>
<p><strong>添加</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">CustomerMapper</span> <span class="keyword">extends</span> <span class="title">BaseMapper</span>&lt;<span class="title">Customer</span>&gt; </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong><ps>PS: 在java配置类上添加<code>@MapperScan(&quot;com.ch.customer.mapper&quot;)</code>注解</ps></strong></p>
<h3 id="service-业务逻辑层"><a href="#service-业务逻辑层" class="headerlink" title="service 业务逻辑层"></a>service 业务逻辑层</h3><p><strong>创建 <code>com.ch.customer.service.CustomerService</code></strong></p>
<p><strong>添加</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.IService;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">CustomerService</span> <span class="keyword">extends</span> <span class="title">IService</span>&lt;<span class="title">Customer</span>&gt; </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>创建 <code>com.ch.customer.service.impl.CustomerServiceImpl</code></strong></p>
<p><strong>添加</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomerServiceImpl</span> <span class="keyword">extends</span> <span class="title">ServiceImpl</span>&lt;<span class="title">CustomerMapper</span>, <span class="title">Customer</span>&gt; <span class="keyword">implements</span> <span class="title">CustomerService</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="mybatis-plus连表分页条件查询"><a href="#mybatis-plus连表分页条件查询" class="headerlink" title="mybatis-plus连表分页条件查询"></a>mybatis-plus连表分页条件查询</h3><p><strong>java配置类添加</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 分页插件</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> PaginationInterceptor <span class="title">paginationInterceptor</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> PaginationInterceptor();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>controller</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@ApiOperation(value = &quot;客户分页条件查询&quot;)</span></span><br><span class="line"><span class="meta">@PostMapping(&quot;/page/&#123;current&#125;/&#123;size&#125;&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> R <span class="title">pageConditionsQuery</span><span class="params">(<span class="meta">@ApiParam(name = &quot;current&quot;, value = &quot;页号&quot;)</span> <span class="meta">@PathVariable(&quot;current&quot;)</span> Integer current,</span></span></span><br><span class="line"><span class="function"><span class="params">                             <span class="meta">@ApiParam(name = &quot;size&quot;, value = &quot;页大小&quot;)</span> <span class="meta">@PathVariable(&quot;size&quot;)</span> Integer size,</span></span></span><br><span class="line"><span class="function"><span class="params">                             <span class="meta">@ApiParam(name = &quot;customerQuery&quot;, value = &quot;查询条件&quot;, required = false)</span> </span></span></span><br><span class="line"><span class="function"><span class="params">                             <span class="meta">@RequestBody</span> CustomerQuery customerQuery)</span> </span>&#123;</span><br><span class="line">    Page&lt;Customer&gt; customerPage = <span class="keyword">new</span> Page&lt;&gt;(current, size);</span><br><span class="line">    customerService.pageConditionsQuery(customerPage, customerQuery);</span><br><span class="line">    <span class="keyword">return</span> R.ok().data(<span class="string">&quot;result&quot;</span>, customerPage);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>impl</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pageConditionsQuery</span><span class="params">(Page&lt;Customer&gt; pageParam, CustomerQuery customerQuery)</span> </span>&#123;</span><br><span class="line">    List&lt;Customer&gt; customers = customerMapper.pageConditionsQuery(pageParam, customerQuery);</span><br><span class="line">    pageParam.setRecords(customers);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>mapper</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Select(CustomerSQL.PAGE_CONDITIONS_QUERY_SQL)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Customer&gt; <span class="title">pageConditionsQuery</span><span class="params">(Page&lt;Customer&gt; pageParam, <span class="meta">@Param(&quot;cq&quot;)</span> CustomerQuery customerQuery)</span></span>;</span><br></pre></td></tr></table></figure>
<h3 id="mybatis-plus-逻辑删除"><a href="#mybatis-plus-逻辑删除" class="headerlink" title="mybatis-plus 逻辑删除"></a>mybatis-plus 逻辑删除</h3><p><strong>java配置类添加</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 逻辑删除插件</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ISqlInjector <span class="title">sqlInjector</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> LogicSqlInjector();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>在实体类添加</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@TableLogic</span></span><br><span class="line"><span class="keyword">private</span> Boolean isDelete;</span><br></pre></td></tr></table></figure>
<h3 id="mybatis-plus-添加或修改时填充"><a href="#mybatis-plus-添加或修改时填充" class="headerlink" title="mybatis-plus 添加或修改时填充"></a>mybatis-plus 添加或修改时填充</h3><p><strong>在实体类添加</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 该字段在插入操作执行时会自动填充</span></span><br><span class="line"><span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line"><span class="keyword">private</span> Date intime;</span><br><span class="line"><span class="comment">// 该字段在插入时会自动填充，在修改时也会自动维护更新</span></span><br><span class="line"><span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line"><span class="keyword">private</span> Date visitdate;</span><br></pre></td></tr></table></figure>
<p><strong>在baseserver模块创建<code>com.ch.baseserver.handler.MyMetaObjectHandler</code></strong></p>
<p><strong>添加</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.handlers.MetaObjectHandler;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.reflection.MetaObject;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyMetaObjectHandler</span> <span class="keyword">implements</span> <span class="title">MetaObjectHandler</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 插入时填充</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertFill</span><span class="params">(MetaObject metaObject)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.setFieldValByName(<span class="string">&quot;intime&quot;</span>, <span class="keyword">new</span> Date(), metaObject);</span><br><span class="line">        <span class="keyword">this</span>.setFieldValByName(<span class="string">&quot;visitdate&quot;</span>, <span class="keyword">new</span> Date(), metaObject);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 修改时填充</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updateFill</span><span class="params">(MetaObject metaObject)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.setFieldValByName(<span class="string">&quot;visitdate&quot;</span>, <span class="keyword">new</span> Date(), metaObject);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="四、测试"><a href="#四、测试" class="headerlink" title="四、测试"></a>四、测试</h2><h3 id="swagger"><a href="#swagger" class="headerlink" title="swagger"></a>swagger</h3><p><strong>在baseserver创建配置类 <code>com.ch.baseserver.config.SwaggerConfig</code></strong></p>
<p><strong>添加</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> com.google.common.base.Predicates;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.builders.ApiInfoBuilder;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.builders.PathSelectors;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.service.ApiInfo;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.service.Contact;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.spi.DocumentationType;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.spring.web.plugins.Docket;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.swagger2.annotations.EnableSwagger2;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableSwagger2</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SwaggerConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Docket <span class="title">webApiConfig</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2)</span><br><span class="line">                .groupName(<span class="string">&quot;webApi&quot;</span>)</span><br><span class="line">                .apiInfo(webApiInfo())</span><br><span class="line">                .select()</span><br><span class="line">                .paths(Predicates.not(PathSelectors.regex(<span class="string">&quot;/admin/.*&quot;</span>)))</span><br><span class="line">                .paths(Predicates.not(PathSelectors.regex(<span class="string">&quot;/error.*&quot;</span>)))</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> ApiInfo <span class="title">webApiInfo</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ApiInfoBuilder()</span><br><span class="line">                .title(<span class="string">&quot;xxxxAPI文档&quot;</span>)</span><br><span class="line">                .description(<span class="string">&quot;本文档描述了xxx微服务接口定义&quot;</span>)</span><br><span class="line">                .version(<span class="string">&quot;1.0&quot;</span>)</span><br><span class="line">                .contact(<span class="keyword">new</span> Contact(<span class="string">&quot;xxxx&quot;</span>, <span class="string">&quot;http://guigu.com&quot;</span>, <span class="string">&quot;xxxx@qq.com&quot;</span>))</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong><ps>PS: 在java配置类中添加<code>@ComponentScan(&quot;com.xx&quot;)</code>注解</ps></strong></p>
]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>springboot</tag>
        <tag>nacos</tag>
        <tag>mybatis-plus</tag>
        <tag>swagger</tag>
        <tag>demo</tag>
      </tags>
  </entry>
  <entry>
    <title>搭建个人博客 hexo</title>
    <url>/2021/01/31/%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2-hexo/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p><img src="/2021/01/31/%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2-hexo/225.webp"></p>
<a id="more"></a>

<h2 id="安装"><a href="#安装" class="headerlink" title=" 安装"></a><sectionNumberC></sectionNumberC> <hTtileC>安装</hTtileC></h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># cnpm来安装 -g 全局安装</span></span><br><span class="line">sudo cnpm install -g hexo-cli</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置软链</span></span><br><span class="line">sudo ln -s /usr/<span class="built_in">local</span>/node-v14.15.4-linux-x64/bin/hexo /usr/loacl/bin/hexo</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看版本</span></span><br><span class="line"><span class="comment"># hecan @ hecan-linux in ~ [20:33:46] </span></span><br><span class="line">$ hexo -v</span><br><span class="line">hexo-cli: 4.2.0</span><br><span class="line">os: Linux 5.10.7-3-MANJARO linux x64</span><br><span class="line">node: 14.15.4</span><br><span class="line">v8: 8.4.371.19-node.17</span><br><span class="line">uv: 1.40.0</span><br><span class="line">zlib: 1.2.11</span><br><span class="line">brotli: 1.0.9</span><br><span class="line">ares: 1.16.1</span><br><span class="line">modules: 83</span><br><span class="line">nghttp2: 1.41.0</span><br><span class="line">napi: 7</span><br><span class="line">llhttp: 2.1.3</span><br><span class="line">openssl: 1.1.1i</span><br><span class="line">cldr: 37.0</span><br><span class="line">icu: 67.1</span><br><span class="line">tz: 2020a</span><br><span class="line">unicode: 13.0</span><br></pre></td></tr></table></figure>
<h2 id="搭建"><a href="#搭建" class="headerlink" title=" 搭建"></a><sectionNumberC></sectionNumberC> <hTtileC>搭建</hTtileC></h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 新建目录</span></span><br><span class="line">mkdir blog</span><br><span class="line"></span><br><span class="line"><span class="comment"># cd到blog</span></span><br><span class="line"><span class="built_in">cd</span> blog</span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化</span></span><br><span class="line">sudo hexo init</span><br><span class="line"></span><br><span class="line"><span class="comment"># 搭建完成之后会提示：INFO  Start blogging with Hexo!</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在目录下会生成 </span></span><br><span class="line"><span class="comment"># hecan @ hecan-linux in ~/blog [20:38:27] </span></span><br><span class="line">$ ll </span><br><span class="line">总用量 80K</span><br><span class="line">-rw-r--r--   1 root  root     0  1月 26 20:37 _config.landscape.yml</span><br><span class="line">-rw-r--r--   1 root  root  2.4K  1月 26 20:37 _config.yml</span><br><span class="line">drwxr-xr-x 165 hecan hecan 4.0K  1月 26 20:38 node_modules</span><br><span class="line">-rw-r--r--   1 root  root   615  1月 26 20:37 package.json</span><br><span class="line">-rw-r--r--   1 hecan hecan  56K  1月 26 20:38 package-lock.json</span><br><span class="line">drwxr-xr-x   2 root  root  4.0K  1月 26 20:37 scaffolds</span><br><span class="line">drwxr-xr-x   3 root  root  4.0K  1月 26 20:37 <span class="built_in">source</span></span><br><span class="line">drwxr-xr-x   2 root  root  4.0K  1月 26 20:37 themes</span><br></pre></td></tr></table></figure>
<h2 id="启动"><a href="#启动" class="headerlink" title=" 启动"></a><sectionNumberC></sectionNumberC> <hTtileC>启动</hTtileC></h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo hexo s</span><br><span class="line"></span><br><span class="line"><span class="comment"># 会在本地的4000端口启动</span></span><br><span class="line">INFO  Validating config</span><br><span class="line">INFO  Start processing</span><br><span class="line">INFO  Hexo is running at http://localhost:4000 . Press Ctrl+C to stop.</span><br></pre></td></tr></table></figure>
<p>初始界面</p>
<p><img src="/2021/01/31/%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2-hexo/1.webp"></p>
<h2 id="写文章"><a href="#写文章" class="headerlink" title=" 写文章"></a><sectionNumberC></sectionNumberC> <hTtileC>写文章</hTtileC></h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># n =&gt; new 缩写</span></span><br><span class="line">sudo hexo n <span class="string">&quot;我的第一篇博客文章&quot;</span></span><br><span class="line"><span class="comment"># 生成路径 source/_posts/  格式是markdown</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 清空</span></span><br><span class="line">sudo hexo clean</span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成 g =&gt; generate</span></span><br><span class="line">sudo hexo g</span><br></pre></td></tr></table></figure>
<h2 id="部署到github"><a href="#部署到github" class="headerlink" title=" 部署到github"></a><sectionNumberC></sectionNumberC> <hTtileC>部署到github</hTtileC></h2><p><strong>新建一个仓库</strong></p>
<p><img src="/2021/01/31/%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2-hexo/2.webp"></p>
<p><strong>配置git</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git config --global user.name &quot;yourname&quot;</span><br><span class="line">git config --global user.email &quot;youremail&quot;</span><br></pre></td></tr></table></figure>
<p>这里的yourname输入你的GitHub用户名，youremail输入你GitHub的邮箱。这样GitHub才能知道你是不是对应它的账户。</p>
<p>可以用以下两条，检查一下你有没有输对</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git config user.name</span><br><span class="line">git config user.email</span><br></pre></td></tr></table></figure>
<p>这里如果没成功的话，可以</p>
<p>在<code>.git</code>目录下的config文件添加</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[user]</span><br><span class="line">        name &#x3D; xxx</span><br><span class="line">        email &#x3D; xxxx@xx.com</span><br></pre></td></tr></table></figure>
<p>然后创建SSH, 一路回车</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;youremail&quot;</span><br></pre></td></tr></table></figure>
<p>这个时候它会告诉你已经生成了<code>.ssh</code>的文件夹。在你的电脑中找到这个文件夹。</p>
<p><img src="/2021/01/31/%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2-hexo/3.webp"></p>
<p>ssh，简单来讲，就是一个秘钥，其中，<code>id_rsa</code>是你这台电脑的私人秘钥，不能给别人看的，<code>id_rsa.pub</code>是公共秘钥，可以随便给别人看。<br>把这个公钥放在GitHub上，这样当你链接GitHub自己的账户时，它就会根据公钥匹配你的私钥，当能够相互匹配时，才能够顺利的通过git上传你的文件到GitHub上。</p>
<p>而后在GitHub的setting中，找到SSH keys的设置选项，点击<code>New SSH key</code><br>把你的<code>id_rsa.pub</code>里面的信息复制进去。</p>
<p><img src="/2021/01/31/%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2-hexo/4.webp"></p>
<p>查看是否成功</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure>
<p>安装git部署的插件</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo cnpm i hexo-deployer-git --save</span><br></pre></td></tr></table></figure>
<p><strong>修改配置文件</strong>    <code>_config.yml</code></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">    <span class="comment"># 这里用ssh地址 因为上面配置了ssh 不用输入账号密码</span></span><br><span class="line">    <span class="attr">repo:</span> <span class="string">git@github.com:he-can/he-can.github.io.git</span></span><br><span class="line">    <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure>
<p><strong>部署到远端</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 每次部署前都要先清除</span></span><br><span class="line">sudo hexo cl</span><br><span class="line"></span><br><span class="line"><span class="comment"># 然后编译</span></span><br><span class="line">sudo hexo s</span><br><span class="line"></span><br><span class="line"><span class="comment"># d =&gt; deploy 部署</span></span><br><span class="line">sudo hexo d</span><br></pre></td></tr></table></figure>
<h2 id="修改主题"><a href="#修改主题" class="headerlink" title=" 修改主题"></a><sectionNumberC></sectionNumberC> <hTtileC>修改主题</hTtileC></h2><p><strong>下载主题 放到themes下</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo  git clone https:&#x2F;&#x2F;github.com&#x2F;theme-next&#x2F;hexo-theme-next.git themes&#x2F;next</span><br></pre></td></tr></table></figure>
<p><strong>修改_config.yml</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">theme: next</span><br></pre></td></tr></table></figure>
<hr>

    <div id="aplayer-EpFidyMv" class="aplayer aplayer-tag-marker meting-tag-marker" data-id="1807537867" data-server="netease" data-type="song" data-mode="circulation" data-autoplay="false" data-mutex="true" data-listmaxheight="340px" data-preload="auto" data-theme="#555"></div>]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>hexo博客美化</title>
    <url>/2021/01/31/hexo%E5%8D%9A%E5%AE%A2%E7%BE%8E%E5%8C%96/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p><img src="/2021/01/31/hexo%E5%8D%9A%E5%AE%A2%E7%BE%8E%E5%8C%96/62.webp"></p>
<a id="more"></a>

<h2 id="Hexo-页面自动刷新"><a href="#Hexo-页面自动刷新" class="headerlink" title=" Hexo 页面自动刷新"></a><sectionNumberC></sectionNumberC> <hTtileC>Hexo 页面自动刷新</hTtileC></h2><blockquote>
<p><strong>本节参考自</strong>　<a href="https://qianling.pw/hexo-optimization/"><strong>千灵</strong></a></p>
</blockquote>
<p><strong>安装</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install -g browser-sync</span><br><span class="line">npm install hexo-browsersync --save</span><br></pre></td></tr></table></figure>
<p>安装后像往常一样执行 <code>hexo s</code> 开启本地服务器，当相关文件被修改或者保存时，关联的浏览器页面会自带刷新</p>
<p><strong>不足</strong></p>
<ul>
<li>变动后将重新加载整个页面，不能局部刷新</li>
<li>使用 Hexo 自带服务器时，无法在移动端调试</li>
<li>md 文件过大时界面无法加载</li>
</ul>
<h2 id="添加背景图片"><a href="#添加背景图片" class="headerlink" title=" 添加背景图片"></a><sectionNumberC></sectionNumberC> <hTtileC>添加背景图片</hTtileC></h2><p><strong>打开</strong>  <code>next/source/js</code></p>
<p><strong>新建</strong>  <code>script.js</code></p>
<p><strong>添加</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 后面要用到</span></span><br><span class="line"><span class="keyword">import</span>(<span class="string">&quot;./jquery.min.js&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// background-images</span></span><br><span class="line"><span class="keyword">let</span> body_c = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;container use-motion&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">let</span> div_c = <span class="built_in">document</span>.createElement(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">div_c.classList.add(<span class="string">&quot;backgroundImages_c&quot;</span>);</span><br><span class="line">body_c.prepend(div_c);</span><br></pre></td></tr></table></figure>
<p><strong>打开</strong>  <code>next/source</code></p>
<p><strong>新建文件夹和css文件</strong>  <code>style/style.css</code></p>
<p><strong>添加</strong></p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">// 背景图片</span><br><span class="line"><span class="selector-class">.backgroundImages_c</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(/images/background.png);</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100vh</span>;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.3</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>打开</strong>  <code>next/layout/_partials/footer.swig</code></p>
<p><strong>添加</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;/style/style.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;/js/script.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="浏览器网页标题恶搞"><a href="#浏览器网页标题恶搞" class="headerlink" title=" 浏览器网页标题恶搞"></a><sectionNumberC></sectionNumberC> <hTtileC>浏览器网页标题恶搞</hTtileC></h2><blockquote>
<p><strong>本节参考自</strong>　<a href="https://www.itrhx.com/2018/08/27/A04-Hexo-blog-topic-personalization/">TRHX’S BLOG</a></p>
</blockquote>
<p>当用户访问你的博客时点击到了其他网页，我们可以恶搞一下网页标题，呼唤用户回来</p>
<p><strong>打开</strong>  <code>next/source/js/script.js</code></p>
<p><strong>添加</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 浏览器搞笑标题</span></span><br><span class="line"><span class="keyword">var</span> OriginTitle = <span class="built_in">document</span>.title;</span><br><span class="line"><span class="keyword">var</span> titleTime;</span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">&#x27;visibilitychange&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">document</span>.hidden) &#123;</span><br><span class="line">        $(<span class="string">&#x27;[rel=&quot;icon&quot;]&#x27;</span>).attr(<span class="string">&#x27;href&#x27;</span>, <span class="string">&quot;/funny.ico&quot;</span>);</span><br><span class="line">        <span class="built_in">document</span>.title = <span class="string">&#x27;╭(°A°`)╮ 页面崩溃啦 ~&#x27;</span>;</span><br><span class="line">        <span class="built_in">clearTimeout</span>(titleTime);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        $(<span class="string">&#x27;[rel=&quot;icon&quot;]&#x27;</span>).attr(<span class="string">&#x27;href&#x27;</span>, <span class="string">&quot;/favicon.ico&quot;</span>);</span><br><span class="line">        <span class="built_in">document</span>.title = <span class="string">&#x27;(ฅ&gt;ω&lt;*ฅ) 噫又好啦 ~&#x27;</span> + OriginTitle;</span><br><span class="line">        titleTime = <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">document</span>.title = OriginTitle;</span><br><span class="line">        &#125;, <span class="number">2000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><strong class="ptys">其中<code>funny.ico</code>和<code>favicon.ico</code>放你的图标</strong></p>
<h2 id="Aplayer"><a href="#Aplayer" class="headerlink" title=" Aplayer"></a><sectionNumberC></sectionNumberC> <hTtileC>Aplayer</hTtileC></h2><h3 id="1-安装"><a href="#1-安装" class="headerlink" title="1. 安装"></a>1. 安装</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install --save hexo-tag-aplayer</span><br></pre></td></tr></table></figure>
<p><strong>打开</strong>  <code>blog/_config.yml</code></p>
<p><strong>添加</strong></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># aplayer插件</span></span><br><span class="line"><span class="attr">aplayer:</span></span><br><span class="line">  <span class="attr">meting:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h3 id="2-使用："><a href="#2-使用：" class="headerlink" title="2. 使用："></a>2. 使用：</h3><p>  <strong>{}</strong></p>
  <figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment"># &quot;3986040&quot; 就是你的歌的uid </span></span><br><span class="line"><span class="comment"># &quot;netease&quot; 平台</span></span><br><span class="line"><span class="comment"># &quot;song&quot; type 类型	</span></span><br><span class="line"><span class="comment"># 其他的不用管</span></span><br><span class="line">&#123;% meting <span class="string">&quot;3986040&quot;</span> <span class="string">&quot;netease&quot;</span> <span class="string">&quot;song&quot;</span> <span class="string">&quot;theme:#555&quot;</span> <span class="string">&quot;mutex:true&quot;</span> <span class="string">&quot;listmaxheight:340px&quot;</span> <span class="string">&quot;preload:auto&quot;</span> %&#125;</span><br></pre></td></tr></table></figure>
<p>  <strong>外链</strong></p>
  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">frameborder</span>=<span class="string">&quot;no&quot;</span> <span class="attr">border</span>=<span class="string">&quot;0&quot;</span> <span class="attr">marginwidth</span>=<span class="string">&quot;0&quot;</span> <span class="attr">marginheight</span>=<span class="string">&quot;0&quot;</span> <span class="attr">width</span>=<span class="string">&quot;750&quot;</span> <span class="attr">height</span>=<span class="string">&quot;110&quot;</span> <span class="attr">loading</span>=<span class="string">&quot;lazy&quot;</span> <span class="attr">sandbox</span>=<span class="string">&quot;allow-popups allow-scripts allow-same-origin&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://www.xiami.com/webapp/embed-player?autoPlay=1&amp;id=1792609930&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>  <strong>本地文件</strong></p>
  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;aplayer&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> ap = <span class="keyword">new</span> APlayer(&#123;</span></span><br><span class="line"><span class="javascript">    container: <span class="built_in">document</span>.getElementById(<span class="string">&#x27;aplayer&#x27;</span>),</span></span><br><span class="line">    audio: [&#123;</span><br><span class="line"><span class="javascript">        name: <span class="string">&#x27;name&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        artist: <span class="string">&#x27;artist&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        url: <span class="string">&#x27;url.mp3&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        cover: <span class="string">&#x27;cover.jpg&#x27;</span></span></span><br><span class="line">    &#125;]</span><br><span class="line">&#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>更多请查看<a href="https://aplayer.js.org/#/home">Aplayer</a>官网</p>
<h3 id="3-自动播放"><a href="#3-自动播放" class="headerlink" title="3. 自动播放"></a>3. 自动播放</h3><p><strong>打开</strong>  <code>next/source/js/script.js</code></p>
<p><strong>添加</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// aplayer延迟三秒播放</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">&quot;div.aplayer-button.aplayer-play&quot;</span>).click();</span><br><span class="line">&#125;, <span class="number">3000</span>);</span><br></pre></td></tr></table></figure>
<h2 id="文末结束标记"><a href="#文末结束标记" class="headerlink" title=" 文末结束标记"></a><sectionNumberC></sectionNumberC> <hTtileC>文末结束标记</hTtileC></h2><blockquote>
<p><strong>本节参考自</strong>　<a href="https://qianling.pw/hexo-optimization/">千灵</a></p>
</blockquote>
<p><strong>打开</strong>  <code>next/layout/_macro</code></p>
<p><strong>新建</strong>  <code>passage-end-tag.swig</code></p>
<p><strong>添加</strong></p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">&#123;% <span class="keyword">if</span> theme.passage_end_tag.enabled %&#125;</span><br><span class="line">&lt;div style=<span class="string">&quot;text-align:center;color: black;font-size:15px;&quot;</span>&gt;</span><br><span class="line">    &lt;br/&gt;&lt;br/&gt;&lt;br/&gt;</span><br><span class="line">    -------------文章结束啦 ~\(≧▽≦)/~ 感谢您的阅读-------------</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;br/&gt;</span><br><span class="line">&#123;% <span class="keyword">endif</span> %&#125;</span><br></pre></td></tr></table></figure>
<p><strong>打开</strong>  <code>next/layout/_macro/post.swig</code></p>
<p><strong>添加</strong></p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"> <span class="comment"># 在这个后添加</span></span><br><span class="line"> &#123;<span class="comment">#####################&#125;</span></span><br><span class="line"> &#123;<span class="comment">### END POST BODY ###&#125;</span></span><br><span class="line"> &#123;<span class="comment">#####################&#125;</span></span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">   &#123;% <span class="keyword">if</span> not is_index %&#125;</span><br><span class="line">   &#123;% <span class="keyword">include</span> <span class="string">&#x27;passage-end-tag.swig&#x27;</span> %&#125;</span><br><span class="line">   &#123;% <span class="keyword">endif</span> %&#125;</span><br><span class="line"> &lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p><strong>打开</strong>  <code>next/_config.yml</code></p>
<p><strong>添加</strong></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 文章末尾添加“本文结束”标记</span></span><br><span class="line"><span class="attr">passage_end_tag:</span></span><br><span class="line">  <span class="attr">enabled:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h2 id="图片hover动画"><a href="#图片hover动画" class="headerlink" title=" 图片hover动画"></a><sectionNumberC></sectionNumberC> <hTtileC>图片hover动画</hTtileC></h2><p><strong>打开</strong>  <code>next/source/style/style.css</code></p>
<p><strong>添加</strong></p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* md的图片的动画 */</span></span><br><span class="line"><span class="selector-class">.post-body</span> &#123;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.post-body</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">0.6s</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">6px</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.post-body</span> <span class="selector-tag">img</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">scale</span>(<span class="number">1.03</span>);</span><br><span class="line">    <span class="attribute">-ms-transform</span>: <span class="built_in">scale</span>(<span class="number">1.03</span>);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.03</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="图片点击全屏预览"><a href="#图片点击全屏预览" class="headerlink" title=" 图片点击全屏预览"></a><sectionNumberC></sectionNumberC> <hTtileC>图片点击全屏预览</hTtileC></h2><p><strong>安装</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> theme/next/<span class="built_in">source</span>/lib</span><br><span class="line"></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/theme-next/theme-next-fancybox3 fancybox</span><br></pre></td></tr></table></figure>
<p><strong>打开</strong>  <code>_config.yml</code></p>
<p><strong>查找</strong>  <code>fancybox:</code></p>
<p><strong>修改</strong> </p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># FancyBox is a tool that offers a nice and elegant way to add zooming functionality for images.</span></span><br><span class="line"><span class="comment"># For more information: https://fancyapps.com/fancybox</span></span><br><span class="line"><span class="attr">fancybox:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h2 id="添加分类，标签，关于菜单项"><a href="#添加分类，标签，关于菜单项" class="headerlink" title=" 添加分类，标签，关于菜单项"></a><sectionNumberC></sectionNumberC> <hTtileC>添加分类，标签，关于菜单项</hTtileC></h2><p><strong>打开</strong>  <code>next/_config.yml</code></p>
<p><strong>修改</strong> </p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Usage: `Key: /link/ || icon`</span></span><br><span class="line"><span class="comment"># Key is the name of menu item. If the translation for this item is available, the translated text will be loaded, otherwise the Key name will be used. Key is case-senstive.</span></span><br><span class="line"><span class="comment"># Value before `||` delimiter is the target link, value after `||` delimiter is the name of Font Awesome icon.</span></span><br><span class="line"><span class="comment"># When running the site in a subdirectory (e.g. yoursite.com/blog), remove the leading slash from link value (/archives -&gt; archives).</span></span><br><span class="line"><span class="comment"># External url should start with http:// or https://</span></span><br><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="attr">about:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-user</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-th</span></span><br><span class="line">  <span class="attr">archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="comment">#schedule: /schedule/ || fa fa-calendar</span></span><br><span class="line">  <span class="comment">#sitemap: /sitemap.xml || fa fa-sitemap</span></span><br><span class="line">  <span class="comment">#commonweal: /404/ || fa fa-heartbeat</span></span><br></pre></td></tr></table></figure>
<p><strong>新建页面</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo new page <span class="string">&quot;about&quot;</span></span><br><span class="line">hexo new page <span class="string">&quot;tags&quot;</span></span><br><span class="line">hexo new page <span class="string">&quot;categories&quot;</span></span><br></pre></td></tr></table></figure>
<p><strong>打开各页面对应的index.md文件</strong></p>
<p><strong>修改</strong></p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: about</span><br><span class="line">date: 2021-01-30 10:47:40</span><br><span class="line">type: &quot;about&quot;</span><br><span class="line">---</span><br><span class="line"> </span><br><span class="line">---</span><br><span class="line">title: tags</span><br><span class="line">date: 2021-01-30 10:47:40</span><br><span class="line">type: &quot;tags&quot;</span><br><span class="line">---</span><br><span class="line"> </span><br><span class="line">---</span><br><span class="line">title: categories</span><br><span class="line">date: 2021-01-30 10:47:40</span><br><span class="line">type: &quot;categories&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<h2 id="彩色标签页"><a href="#彩色标签页" class="headerlink" title=" 彩色标签页"></a><sectionNumberC></sectionNumberC> <hTtileC>彩色标签页</hTtileC></h2><blockquote>
<p><strong>本节参考自</strong>　<a href="https://www.liaofuzhan.com/posts/2114475547.html#%E5%BD%A9%E8%89%B2%E6%A0%87%E7%AD%BE%E9%A1%B5">leaface</a></p>
</blockquote>
<p><strong>打开</strong>  <code>next/layout/</code></p>
<p><strong>新建</strong>  <code>tag-color.swig</code></p>
<p><strong>添加</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">     <span class="keyword">var</span> alltags = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;tag-cloud-tags&#x27;</span>);</span></span><br><span class="line"><span class="javascript">     <span class="keyword">var</span> tags = alltags[<span class="number">0</span>].getElementsByTagName(<span class="string">&#x27;a&#x27;</span>);</span></span><br><span class="line"><span class="javascript">     <span class="keyword">for</span> (<span class="keyword">var</span> i = tags.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span></span><br><span class="line"><span class="javascript">       <span class="keyword">var</span> r=<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*<span class="number">75</span>+<span class="number">130</span>);</span></span><br><span class="line"><span class="javascript">       <span class="keyword">var</span> g=<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*<span class="number">75</span>+<span class="number">100</span>);</span></span><br><span class="line"><span class="javascript">       <span class="keyword">var</span> b=<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*<span class="number">75</span>+<span class="number">80</span>);</span></span><br><span class="line"><span class="javascript">       tags[i].style.background = <span class="string">&quot;rgb(&quot;</span>+r+<span class="string">&quot;,&quot;</span>+g+<span class="string">&quot;,&quot;</span>+b+<span class="string">&quot;)&quot;</span>;</span></span><br><span class="line">     &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.tag-cloud-tags</span>&#123;</span></span><br><span class="line"><span class="css">    <span class="comment">/*font-family: Helvetica, Tahoma, Arial;*/</span></span></span><br><span class="line"><span class="css">    <span class="comment">/*font-weight: 100;*/</span></span></span><br><span class="line">    text-align: center;</span><br><span class="line">    counter-reset: tags;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-class">.tag-cloud-tags</span> <span class="selector-tag">a</span>&#123;</span></span><br><span class="line">    border-radius: 6px;</span><br><span class="line">    padding-right: 5px;</span><br><span class="line">    padding-left: 5px;</span><br><span class="line">    margin: 8px 5px 0px 0px;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-class">.tag-cloud-tags</span> <span class="selector-tag">a</span><span class="selector-pseudo">:before</span>&#123;</span></span><br><span class="line">    content: &quot;🔖&quot;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.tag-cloud-tags</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;</span></span><br><span class="line">     box-shadow: 0px 5px 15px 0px rgba(0,0,0,.4);</span><br><span class="line">     transform: scale(1.1);</span><br><span class="line"><span class="css">     <span class="comment">/*box-shadow: 10px 10px 15px 2px rgba(0,0,0,.12), 0 0 6px 0 rgba(104, 104, 105, 0.1);*/</span></span></span><br><span class="line">     transition-duration: 0.4s;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>打开</strong>  <code>next/layout/page.swig</code></p>
<p><strong>添加</strong></p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">&lt;div class=&quot;post-body&#123;%- if page.direction and page.direction.toLowerCase() === &#x27;rtl&#x27; %&#125; rtl&#123;%- endif %&#125;&quot;&gt;</span><br><span class="line">  &#123;%- <span class="keyword">if</span> page.type === <span class="string">&#x27;tags&#x27;</span> %&#125;</span><br><span class="line">    &lt;div class=&quot;tag-cloud&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;tag-cloud-title&quot;&gt;</span><br><span class="line">        &#123;&#123; _p(<span class="string">&#x27;counter.tag_cloud&#x27;</span>, site.tags.length) &#125;&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;tag-cloud-tags&quot;&gt;</span><br><span class="line">        &#123;&#123; tagcloud(&#123;</span><br><span class="line">          min_font   : theme.tagcloud.min,</span><br><span class="line">          max_font   : theme.tagcloud.max,</span><br><span class="line">          amount     : theme.tagcloud.amount,</span><br><span class="line">          color      : <span class="literal">true</span>,</span><br><span class="line">          start_color: theme.tagcloud.start,</span><br><span class="line">          end_color  : theme.tagcloud.end&#125;)</span><br><span class="line">        &#125;&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &#123;<span class="comment">### 这里 ###&#125;</span></span><br><span class="line">    &#123;% <span class="keyword">include</span> <span class="string">&#x27;tag-color.swig&#x27;</span> %&#125;</span><br><span class="line"></span><br><span class="line">  &#123;% elif page.type === <span class="string">&#x27;categories&#x27;</span> %&#125;</span><br></pre></td></tr></table></figure>
<p><strong>补充：文章底部标签</strong></p>
<p><strong>打开</strong>  <code>next/source/css/main.styl</code></p>
<p><strong>添加</strong></p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*文章底部标签样式*/</span></span><br><span class="line"><span class="selector-class">.posts-expand</span> <span class="selector-class">.post-tags</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">-webkit-box-shadow</span>: <span class="number">0</span> <span class="number">1px</span> <span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">12</span>), <span class="number">0</span> <span class="number">1px</span> <span class="number">2px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">24</span>);</span><br><span class="line">  <span class="attribute">-moz-box-shadow</span>: <span class="number">0</span> <span class="number">1px</span> <span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">12</span>), <span class="number">0</span> <span class="number">1px</span> <span class="number">2px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">24</span>);</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">1px</span> <span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">12</span>), <span class="number">0</span> <span class="number">1px</span> <span class="number">2px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">24</span>);</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&#x27;Comic Sans MS&#x27;</span>, sans-serif;</span><br><span class="line">  <span class="attribute">transition</span>: .<span class="number">2s</span> ease-out;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">3px</span> <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#f5f5f5</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: none;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">15px</span>;</span><br><span class="line"></span><br><span class="line">  +mobile()&#123;</span><br><span class="line">    <span class="selector-tag">padding</span>: 1<span class="selector-tag">px</span> 3<span class="selector-tag">px</span>;</span><br><span class="line">    <span class="selector-tag">font-size</span>: 8<span class="selector-tag">px</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;<span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">100</span>,<span class="number">154</span>,<span class="number">182</span>,<span class="number">0.902</span>);</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">-webkit-box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">16px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.2</span>), <span class="number">0</span> <span class="number">6px</span> <span class="number">20px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.19</span>);</span><br><span class="line">    <span class="attribute">-moz-box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">16px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.2</span>), <span class="number">0</span> <span class="number">6px</span> <span class="number">20px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.19</span>);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">16px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.2</span>), <span class="number">0</span> <span class="number">6px</span> <span class="number">20px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.19</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="归档页美化"><a href="#归档页美化" class="headerlink" title=" 归档页美化"></a><sectionNumberC></sectionNumberC> <hTtileC>归档页美化</hTtileC></h2><blockquote>
<p><strong>本节参考自</strong>　<a href="https://www.liaofuzhan.com/posts/2114475547.html#%E5%BD%A9%E8%89%B2%E6%A0%87%E7%AD%BE%E9%A1%B5">leaface</a></p>
</blockquote>
<p><strong>打开</strong>  <code>/next/layout/_macro/post-collapse.swig</code></p>
<p><strong>修改</strong></p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">&#123;% macro render(posts) %&#125;</span><br><span class="line">&#123;%- set current_year = <span class="string">&#x27;1970&#x27;</span> %&#125;</span><br><span class="line">&#123;%- <span class="keyword">for</span> post in posts.toArray() %&#125;</span><br><span class="line"></span><br><span class="line">  &#123;%- set year = date(post.date, <span class="string">&#x27;YYYY&#x27;</span>) %&#125;</span><br><span class="line"></span><br><span class="line">  &#123;%- <span class="keyword">if</span> year !== current_year %&#125;</span><br><span class="line">    &#123;%- set current_year = year %&#125;</span><br><span class="line">    &lt;div class=&quot;collection-year&quot;&gt;</span><br><span class="line">      &lt;span class=&quot;collection-header&quot;&gt;&#123;&#123; current_year &#125;&#125;&lt;/span&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &#123;%- <span class="keyword">endif</span> %&#125;</span><br><span class="line"></span><br><span class="line">  &lt;article class=&quot;my-post post-type-&#123;&#123; post.type | default(&#x27;normal&#x27;) &#125;&#125;&quot; itemscope itemtype=&quot;http://schema.org/Article&quot;&gt;</span><br><span class="line">    &lt;header class=&quot;my-post-header&quot;&gt;</span><br><span class="line"></span><br><span class="line">      &lt;div class=&quot;my-post-meta&quot;&gt;</span><br><span class="line">        &lt;time class=&quot;my-post-time&quot; itemprop=&quot;dateCreated&quot;</span><br><span class="line">              datetime=<span class="string">&quot;&#123;&#123; moment(post.date).format() &#125;&#125;&quot;</span></span><br><span class="line">              content=<span class="string">&quot;&#123;&#123; date(post.date, config.date_format) &#125;&#125;&quot;</span> &gt;</span><br><span class="line">          &#123;&#123; date(post.date, <span class="string">&#x27;MM-DD&#x27;</span>) &#125;&#125;</span><br><span class="line">        &lt;/time&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">      &lt;&#123;% if theme.seo %&#125;h3&#123;% else %&#125;h2&#123;% endif %&#125; class=&quot;my-post-title&quot;&gt;</span><br><span class="line">        &#123;% <span class="keyword">if</span> post.link %&#125;&#123;<span class="comment"># Link posts #&#125;</span></span><br><span class="line">          &lt;a class=&quot;my-post-title-link post-title-link-external&quot; target=&quot;_blank&quot; href=&quot;&#123;&#123; url_for(post.link) &#125;&#125;&quot; itemprop=&quot;url&quot;&gt;</span><br><span class="line">            &#123;&#123; post.title <span class="keyword">or</span> post.link &#125;&#125;</span><br><span class="line">            &lt;i class=&quot;fa fa-external-link&quot;&gt;&lt;/i&gt;</span><br><span class="line">          &lt;/a&gt;</span><br><span class="line">        &#123;% <span class="keyword">else</span> %&#125;</span><br><span class="line">            &lt;a class=&quot;my-post-title-link&quot; href=&quot;&#123;&#123; url_for(post.path) &#125;&#125;&quot; itemprop=&quot;url&quot;&gt;</span><br><span class="line">              &#123;% <span class="keyword">if</span> post.type === <span class="string">&#x27;picture&#x27;</span> %&#125;</span><br><span class="line">                &#123;&#123; post.content &#125;&#125;</span><br><span class="line">              &#123;% <span class="keyword">else</span> %&#125;</span><br><span class="line">                &lt;span itemprop=<span class="string">&quot;name&quot;</span>&gt;&#123;&#123; post.title | <span class="keyword">default</span>(__(<span class="string">&#x27;post.untitled&#x27;</span>)) &#125;&#125;&lt;/span&gt;</span><br><span class="line">              &#123;% <span class="keyword">endif</span> %&#125;</span><br><span class="line">            &lt;/a&gt;</span><br><span class="line">        &#123;% <span class="keyword">endif</span> %&#125;</span><br><span class="line">      &lt;/&#123;% <span class="keyword">if</span> theme.seo %&#125;h3&#123;% <span class="keyword">else</span> %&#125;h2&#123;% <span class="keyword">endif</span> %&#125;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/header&gt;</span><br><span class="line">  &lt;/article&gt;</span><br><span class="line"></span><br><span class="line">&#123;%- <span class="keyword">endfor</span> %&#125;</span><br><span class="line">&#123;% endmacro %&#125;&#125;</span><br></pre></td></tr></table></figure>
<p><strong>打开</strong>  <code>next/source/css/main.styl</code></p>
<p><strong>添加</strong></p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 归档页样式 began */</span></span><br><span class="line"><span class="selector-class">.page-archive</span> <span class="selector-class">.archive-page-counter</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#49b1f5</span>;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">padding-right</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  +mobile() &#123;</span><br><span class="line">    <span class="selector-tag">font-size</span>: 16<span class="selector-tag">px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my-post-time</span>&#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">11px</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#49b1f5</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">padding-right</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.mypost</span>&#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">-webkit-transition</span>: all .<span class="number">2s</span> ease-in-out;</span><br><span class="line">  <span class="attribute">-moz-transition</span>: all .<span class="number">2s</span> ease-in-out;</span><br><span class="line">  <span class="attribute">-o-transition</span>: all .<span class="number">2s</span> ease-in-out;</span><br><span class="line">  <span class="attribute">-ms-transition</span>: all .<span class="number">2s</span> ease-in-out;</span><br><span class="line">  <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.my-post-title-link</span><span class="selector-pseudo">:before</span>&#123;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">18px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">18px</span>;</span><br><span class="line">  <span class="comment">/*📚*/</span></span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;🐱‍💻🐱‍🐉🐱‍👓🐱‍🚀🔫&quot;</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">font</span>: normal normal normal <span class="number">14px</span>/<span class="number">1</span> FontAwesome;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">18px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my-post</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.1</span>);</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">10px</span> <span class="number">10px</span> <span class="number">15px</span> <span class="number">2px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">12</span>), <span class="number">0</span> <span class="number">0</span> <span class="number">6px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">104</span>, <span class="number">104</span>, <span class="number">105</span>, <span class="number">0.1</span>);</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">1px</span> <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">25px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">transition-duration</span>: <span class="number">0.15s</span>;</span><br><span class="line">  +mobile()&#123;</span><br><span class="line">    <span class="selector-tag">width</span>: 260<span class="selector-tag">px</span>;</span><br><span class="line">    <span class="selector-tag">margin-left</span>: 18<span class="selector-tag">px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  //<span class="selector-tag">display</span><span class="selector-pseudo">:flex</span>;</span><br><span class="line">  <span class="selector-tag">color</span>: <span class="selector-tag">rgba</span>(0,0,0,0.1); <span class="comment">/* transparent IE 不支持 */</span></span><br><span class="line">  <span class="selector-tag">animation</span>: <span class="selector-tag">hue</span> 1.5<span class="selector-tag">s</span> <span class="selector-tag">linear</span> <span class="selector-tag">infinite</span>;</span><br><span class="line">  <span class="selector-tag">background-image</span>: <span class="selector-tag">linear-gradient</span>(<span class="selector-tag">to</span> <span class="selector-tag">right</span> <span class="selector-tag">bottom</span>, <span class="selector-tag">rgb</span>(255,0,0), <span class="selector-tag">rgb</span>(255,128,0), <span class="selector-tag">rgb</span>(255,255,0), <span class="selector-tag">rgb</span>(0,255,0), <span class="selector-tag">rgb</span>(0,255,128), <span class="selector-tag">rgb</span>(0,255,255), <span class="selector-tag">rgb</span>(0,128,255), <span class="selector-tag">rgb</span>(0,0,255), <span class="selector-tag">rgb</span>(128,0,255), <span class="selector-tag">rgb</span>(255,0,255), <span class="selector-tag">rgb</span>(255,0,128));</span><br><span class="line">  <span class="selector-tag">-webkit-background-clip</span>: <span class="selector-tag">text</span>;</span><br><span class="line">  <span class="selector-tag">background</span>: <span class="selector-id">#ff00ff26</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> hue &#123;</span><br><span class="line">  <span class="selector-tag">from</span> &#123;</span><br><span class="line">      <span class="attribute">filter</span>: <span class="built_in">hue-rotate</span>(<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">      <span class="attribute">filter</span>: <span class="built_in">hue-rotate</span>(-<span class="number">360deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.my-post-title-link</span>&#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">400</span>;</span><br><span class="line">  +mobile() &#123;</span><br><span class="line">    <span class="selector-tag">font-size</span>: 14<span class="selector-tag">px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my-post-title</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">4.5rem</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#4c4948</span>;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">  <span class="attribute">font-size</span>: .<span class="number">8rem</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  +mobile() &#123;</span><br><span class="line">    //<span class="selector-tag">margin-left</span>: 4<span class="selector-tag">rem</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my-post-header</span>&#123;</span><br><span class="line">  <span class="attribute">position</span>: top;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">-webkit-transition</span>: all .<span class="number">2s</span> ease-in-out;</span><br><span class="line">  <span class="attribute">-moz-transition</span>: all .<span class="number">2s</span> ease-in-out;</span><br><span class="line">  <span class="attribute">-o-transition</span>: all .<span class="number">2s</span> ease-in-out;</span><br><span class="line">  <span class="attribute">-ms-transition</span>: all .<span class="number">2s</span> ease-in-out;</span><br><span class="line">  <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line">//<span class="selector-class">.my-post-title-link</span>&#123;</span><br><span class="line">//  font-size: 16px;</span><br><span class="line">//  <span class="selector-tag">font-weight</span>: 500;</span><br><span class="line">//&#125;</span><br><span class="line"><span class="selector-class">.my-post-meta</span>&#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#99a9bf</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">80px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#114142</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.post-block</span><span class="selector-class">.tag</span> <span class="selector-class">.collection-title</span> <span class="selector-tag">h2</span> &#123;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">border-style</span>: solid;</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="number">#3f3f3f</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">22px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#b4e8fa</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">2px</span> <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">letter-spacing</span>: <span class="number">1.5px</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#3f3f3f</span>;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">10px</span> <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  +mobile()&#123;</span><br><span class="line">    <span class="selector-tag">font-size</span>: 18<span class="selector-tag">px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 归档页样式 end */</span></span><br></pre></td></tr></table></figure>
<h2 id="分类页美化（凑活一下）"><a href="#分类页美化（凑活一下）" class="headerlink" title=" 分类页美化（凑活一下）"></a><sectionNumberC></sectionNumberC> <hTtileC>分类页美化（凑活一下）</hTtileC></h2><p><strong>打开</strong>  <code>next/source/css/main.styl</code></p>
<p><strong>添加</strong></p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 分类样式 */</span></span><br><span class="line"><span class="selector-class">.category-list</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">1rem</span>;</span><br><span class="line">    <span class="attribute">-webkit-transition</span>: all .<span class="number">2s</span> ease-in-out;</span><br><span class="line">    <span class="attribute">-moz-transition</span>: all .<span class="number">2s</span> ease-in-out;</span><br><span class="line">    <span class="attribute">-o-transition</span>: all .<span class="number">2s</span> ease-in-out;</span><br><span class="line">    <span class="attribute">-ms-transition</span>: all .<span class="number">2s</span> ease-in-out;</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.category-list-item</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.1</span>);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">10px</span> <span class="number">10px</span> <span class="number">15px</span> <span class="number">2px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">12</span>), <span class="number">0</span> <span class="number">0</span> <span class="number">6px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">104</span>, <span class="number">104</span>, <span class="number">105</span>, <span class="number">0.1</span>);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">1px</span> <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">25px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">transition-duration</span>: <span class="number">0.15s</span>;</span><br><span class="line">    +mobile()&#123;</span><br><span class="line">      <span class="selector-tag">width</span>: 260<span class="selector-tag">px</span>;</span><br><span class="line">      <span class="selector-tag">margin-left</span>: 18<span class="selector-tag">px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    //<span class="selector-tag">display</span><span class="selector-pseudo">:flex</span>;</span><br><span class="line">    <span class="selector-tag">color</span>: <span class="selector-tag">rgba</span>(0,0,0,0.1); <span class="comment">/* transparent IE 不支持 */</span></span><br><span class="line">    <span class="selector-tag">animation</span>: <span class="selector-tag">hue</span> 1.5<span class="selector-tag">s</span> <span class="selector-tag">linear</span> <span class="selector-tag">infinite</span>;</span><br><span class="line">    <span class="selector-tag">background-image</span>: <span class="selector-tag">linear-gradient</span>(<span class="selector-tag">to</span> <span class="selector-tag">right</span> <span class="selector-tag">bottom</span>, <span class="selector-tag">rgb</span>(255,0,0), <span class="selector-tag">rgb</span>(255,128,0), <span class="selector-tag">rgb</span>(255,255,0), <span class="selector-tag">rgb</span>(0,255,0), <span class="selector-tag">rgb</span>(0,255,128), <span class="selector-tag">rgb</span>(0,255,255), <span class="selector-tag">rgb</span>(0,128,255), <span class="selector-tag">rgb</span>(0,0,255), <span class="selector-tag">rgb</span>(128,0,255), <span class="selector-tag">rgb</span>(255,0,255), <span class="selector-tag">rgb</span>(255,0,128));</span><br><span class="line">    <span class="selector-tag">-webkit-background-clip</span>: <span class="selector-tag">text</span>;</span><br><span class="line">    <span class="selector-tag">background</span>: <span class="selector-id">#ff00ff26</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">@keyframes</span> hue &#123;</span><br><span class="line">    <span class="selector-tag">from</span> &#123;</span><br><span class="line">        <span class="attribute">filter</span>: <span class="built_in">hue-rotate</span>(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">to</span> &#123;</span><br><span class="line">        <span class="attribute">filter</span>: <span class="built_in">hue-rotate</span>(-<span class="number">360deg</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">a</span><span class="selector-class">.category-list-link</span>&#123;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">400</span>;</span><br><span class="line">    +mobile() &#123;</span><br><span class="line">      <span class="selector-tag">font-size</span>: 14<span class="selector-tag">px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">color</span>: <span class="selector-tag">black</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.category-list-link</span><span class="selector-pseudo">:before</span>&#123;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">18px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">18px</span>;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&quot;🐱‍💻🐱‍🐉🐱‍👓🐱‍🚀🔫&quot;</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">font</span>: normal normal normal <span class="number">14px</span>/<span class="number">1</span> FontAwesome;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">18px</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.category-list-item</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">4.5rem</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#4c4948</span>;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">    <span class="attribute">font-size</span>: .<span class="number">8rem</span>;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    +mobile() &#123;</span><br><span class="line">      //<span class="selector-tag">margin-left</span>: 4<span class="selector-tag">rem</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.category-all-page</span> <span class="selector-class">.category-list-count</span> &#123;</span><br><span class="line">   <span class="attribute">color</span>: black;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 分类样式end */</span></span><br></pre></td></tr></table></figure>
<h2 id="把评论去掉"><a href="#把评论去掉" class="headerlink" title=" 把评论去掉"></a><sectionNumberC></sectionNumberC> <hTtileC>把评论去掉</hTtileC></h2><p><strong>打开</strong>  <code>next/source/js/script.js</code></p>
<p><strong>添加</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 将 关于/标签/分类里的评论删掉 等网页加载完毕执行，不然jQuery还没加载就执行会报错</span></span><br><span class="line"><span class="built_in">document</span>.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">document</span>.readyState == <span class="string">&#x27;complete&#x27;</span>) &#123;</span><br><span class="line">        <span class="comment">// 页面加载完毕</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">document</span>.URL.indexOf(<span class="string">&quot;categories&quot;</span>) != -<span class="number">1</span>) &#123;</span><br><span class="line">            $(<span class="string">&quot;.comments.v&quot;</span>).remove();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">document</span>.URL.indexOf(<span class="string">&quot;tags&quot;</span>) != -<span class="number">1</span>) &#123;</span><br><span class="line">            $(<span class="string">&quot;.comments.v&quot;</span>).remove();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">document</span>.URL.indexOf(<span class="string">&quot;about&quot;</span>) != -<span class="number">1</span>) &#123;</span><br><span class="line">            $(<span class="string">&quot;.comments.v&quot;</span>).remove();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="个性化回到顶部"><a href="#个性化回到顶部" class="headerlink" title=" 个性化回到顶部"></a><sectionNumberC></sectionNumberC> <hTtileC>个性化回到顶部</hTtileC></h2><p><strong>打开</strong>  <code>next/source/css/main.styl</code></p>
<p><strong>添加</strong></p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 个性化回到顶部 */</span></span><br><span class="line"><span class="selector-class">.back-to-top</span> &#123;</span><br><span class="line">  //right: 60px;</span><br><span class="line">  <span class="selector-tag">width</span>: 70<span class="selector-tag">px</span>;  //图片素材宽度</span><br><span class="line">  <span class="selector-tag">height</span>: 900<span class="selector-tag">px</span>;  //图片素材高度</span><br><span class="line">  <span class="selector-tag">top</span>: <span class="selector-tag">-900px</span>;</span><br><span class="line">  <span class="selector-tag">bottom</span>: <span class="selector-tag">unset</span>;</span><br><span class="line">  <span class="selector-tag">transition</span>: <span class="selector-tag">all</span> .5<span class="selector-tag">s</span> <span class="selector-tag">ease-in-out</span>;</span><br><span class="line">  <span class="selector-tag">background</span>: <span class="selector-tag">url</span>(&quot;/<span class="selector-tag">images</span>/<span class="selector-tag">scroll</span><span class="selector-class">.jpg</span>&quot;);</span><br><span class="line">  //隐藏箭头图标</span><br><span class="line">  &gt; <span class="selector-tag">i</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">  &#125;</span><br><span class="line">  &amp;<span class="selector-class">.back-to-top-on</span> &#123;</span><br><span class="line">    <span class="attribute">bottom</span>: unset;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">100vh</span> &lt; (<span class="number">900px</span> + <span class="number">200px</span>) ? <span class="built_in">calc</span>( <span class="number">100vh</span> - <span class="number">900px</span> - <span class="number">200px</span> ) : <span class="number">0px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 个性化回到顶部end */</span></span><br></pre></td></tr></table></figure>
<p><strong>效果就是边上那只猫</strong></p>
<p><strong>图片</strong>  <a href="/images/scroll.jpg">scroll.jpg</a></p>
<h2 id="鼠标点击特效"><a href="#鼠标点击特效" class="headerlink" title=" 鼠标点击特效"></a><sectionNumberC></sectionNumberC> <hTtileC>鼠标点击特效</hTtileC></h2><blockquote>
<p><strong>本节参考自</strong>  <a href="https://www.liaofuzhan.com/posts/2114475547.html#%E5%BD%A9%E8%89%B2%E6%A0%87%E7%AD%BE%E9%A1%B5">leaface</a></p>
</blockquote>
<p><strong>打开</strong>  <code>next/_config.yml</code></p>
<p><strong>添加</strong> </p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">cursor_effect:</span></span><br><span class="line">  <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">fireworks</span>  <span class="comment"># fireworks：礼花 | explosion：爆炸 | love：浮出爱心 | text：浮出文字</span></span><br></pre></td></tr></table></figure>
<p><strong>打开</strong>  <code>next/layout</code></p>
<p><strong>新建文件夹和文件</strong>  <code>_custom/custom.swig</code></p>
<p><strong>添加</strong> </p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">&#123;% <span class="keyword">if</span> theme.cursor_effect %&#125;</span><br><span class="line">  &#123;% <span class="keyword">if</span> theme.cursor_effect.type == <span class="string">&quot;fireworks&quot;</span> %&#125;</span><br><span class="line">    &lt;script src=<span class="string">&quot;/js/cursor/fireworks.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">  &#123;% <span class="keyword">elseif</span> theme.cursor_effect.type == <span class="string">&quot;explosion&quot;</span> %&#125;</span><br><span class="line">    &lt;canvas class=&quot;fireworks&quot; style=&quot;position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;&quot; &gt;&lt;/canvas&gt;</span><br><span class="line">    &lt;script src=<span class="string">&quot;//cdn.bootcss.com/animejs/2.2.0/anime.min.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=<span class="string">&quot;/js/cursor/explosion.min.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">  &#123;% <span class="keyword">elseif</span> theme.cursor_effect.type == <span class="string">&quot;love&quot;</span> %&#125;</span><br><span class="line">    &lt;script src=<span class="string">&quot;/js/cursor/love.min.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">  &#123;% <span class="keyword">elseif</span> theme.cursor_effect.type == <span class="string">&quot;text&quot;</span> %&#125;</span><br><span class="line">    &lt;script src=<span class="string">&quot;/js/cursor/text.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">  &#123;% <span class="keyword">endif</span> %&#125;</span><br><span class="line">&#123;% <span class="keyword">endif</span> %&#125;</span><br></pre></td></tr></table></figure>
<p><strong>打开</strong>  <code>next/layout/_layout.swig</code></p>
<p><strong>添加</strong></p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">&#123;% <span class="keyword">include</span> <span class="string">&#x27;_custom/custom.swig&#x27;</span> %&#125;</span><br></pre></td></tr></table></figure>
<p><strong>打开</strong>  <code>next/source/js</code></p>
<p><strong>新建文件夹</strong>  <code>cursor</code></p>
<p><strong>添加</strong></p>
<p><a href="/js/cursor/fireworks.js">fireworks.js</a><br><a href="/js/cursor/explosion.min.js">explosion.min.js</a><br><a href="/js/cursor/love.min.js">love.min.js</a><br><a href="/js/cursor/text.js">text.js</a></p>
<h2 id="canvas粒子时钟"><a href="#canvas粒子时钟" class="headerlink" title=" canvas粒子时钟"></a><sectionNumberC></sectionNumberC> <hTtileC>canvas粒子时钟</hTtileC></h2><blockquote>
<p><strong>本节参考自</strong>  <a href="https://www.liaofuzhan.com/posts/2114475547.html#%E5%BD%A9%E8%89%B2%E6%A0%87%E7%AD%BE%E9%A1%B5">leaface</a></p>
</blockquote>
<p><strong>打开</strong>  <code>next/layout/_custom/</code></p>
<p><strong>新建</strong>  <code>clock.swig</code></p>
<p><strong>添加</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;zzsc&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;text-align:center;clear:both;margin-top:20px&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">setTimeout</span>(clock, <span class="number">200</span>);</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">clock</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">&#x27;#zzsc&#x27;</span>).html(<span class="string">&#x27;&lt;canvas id=&quot;canvas&quot;&gt;&lt;/canvas&gt;&#x27;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> WINDOW_WIDTH = <span class="number">920</span>;</span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> WINDOW_HEIGHT = <span class="number">400</span>;</span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> RADIUS = <span class="number">7</span>; <span class="comment">//球半径</span></span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> NUMBER_GAP = <span class="number">10</span>; <span class="comment">//数字之间的间隙</span></span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> u=<span class="number">0.65</span>; <span class="comment">//碰撞能量损耗系数</span></span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> context; <span class="comment">//Canvas绘制上下文</span></span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> balls = []; <span class="comment">//存储彩色的小球</span></span></span><br><span class="line"><span class="javascript">		<span class="keyword">const</span> colors = [<span class="string">&quot;#33B5E5&quot;</span>,<span class="string">&quot;#0099CC&quot;</span>,<span class="string">&quot;#AA66CC&quot;</span>,<span class="string">&quot;#9933CC&quot;</span>,<span class="string">&quot;#99CC00&quot;</span>,<span class="string">&quot;#669900&quot;</span>,<span class="string">&quot;#FFBB33&quot;</span>,<span class="string">&quot;#FF8800&quot;</span>,<span class="string">&quot;#FF4444&quot;</span>,<span class="string">&quot;#CC0000&quot;</span>]; <span class="comment">//彩色小球的颜色</span></span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> currentNums = []; <span class="comment">//屏幕显示的8个字符</span></span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> digit =</span></span><br><span class="line">                [</span><br><span class="line">                    [</span><br><span class="line">                        [0,0,1,1,1,0,0],</span><br><span class="line">                        [0,1,1,0,1,1,0],</span><br><span class="line">                        [1,1,0,0,0,1,1],</span><br><span class="line">                        [1,1,0,0,0,1,1],</span><br><span class="line">                        [1,1,0,0,0,1,1],</span><br><span class="line">                        [1,1,0,0,0,1,1],</span><br><span class="line">                        [1,1,0,0,0,1,1],</span><br><span class="line">                        [1,1,0,0,0,1,1],</span><br><span class="line">                        [0,1,1,0,1,1,0],</span><br><span class="line">                        [0,0,1,1,1,0,0]</span><br><span class="line"><span class="javascript">                    ],<span class="comment">//0</span></span></span><br><span class="line">                    [</span><br><span class="line">                        [0,0,0,1,1,0,0],</span><br><span class="line">                        [0,1,1,1,1,0,0],</span><br><span class="line">                        [0,0,0,1,1,0,0],</span><br><span class="line">                        [0,0,0,1,1,0,0],</span><br><span class="line">                        [0,0,0,1,1,0,0],</span><br><span class="line">                        [0,0,0,1,1,0,0],</span><br><span class="line">                        [0,0,0,1,1,0,0],</span><br><span class="line">                        [0,0,0,1,1,0,0],</span><br><span class="line">                        [0,0,0,1,1,0,0],</span><br><span class="line">                        [1,1,1,1,1,1,1]</span><br><span class="line"><span class="javascript">                    ],<span class="comment">//1</span></span></span><br><span class="line">                    [</span><br><span class="line">                        [0,1,1,1,1,1,0],</span><br><span class="line">                        [1,1,0,0,0,1,1],</span><br><span class="line">                        [0,0,0,0,0,1,1],</span><br><span class="line">                        [0,0,0,0,1,1,0],</span><br><span class="line">                        [0,0,0,1,1,0,0],</span><br><span class="line">                        [0,0,1,1,0,0,0],</span><br><span class="line">                        [0,1,1,0,0,0,0],</span><br><span class="line">                        [1,1,0,0,0,0,0],</span><br><span class="line">                        [1,1,0,0,0,1,1],</span><br><span class="line">                        [1,1,1,1,1,1,1]</span><br><span class="line"><span class="javascript">                    ],<span class="comment">//2</span></span></span><br><span class="line">                    [</span><br><span class="line">                        [1,1,1,1,1,1,1],</span><br><span class="line">                        [0,0,0,0,0,1,1],</span><br><span class="line">                        [0,0,0,0,1,1,0],</span><br><span class="line">                        [0,0,0,1,1,0,0],</span><br><span class="line">                        [0,0,1,1,1,0,0],</span><br><span class="line">                        [0,0,0,0,1,1,0],</span><br><span class="line">                        [0,0,0,0,0,1,1],</span><br><span class="line">                        [0,0,0,0,0,1,1],</span><br><span class="line">                        [1,1,0,0,0,1,1],</span><br><span class="line">                        [0,1,1,1,1,1,0]</span><br><span class="line"><span class="javascript">                    ],<span class="comment">//3</span></span></span><br><span class="line">                    [</span><br><span class="line">                        [0,0,0,0,1,1,0],</span><br><span class="line">                        [0,0,0,1,1,1,0],</span><br><span class="line">                        [0,0,1,1,1,1,0],</span><br><span class="line">                        [0,1,1,0,1,1,0],</span><br><span class="line">                        [1,1,0,0,1,1,0],</span><br><span class="line">                        [1,1,1,1,1,1,1],</span><br><span class="line">                        [0,0,0,0,1,1,0],</span><br><span class="line">                        [0,0,0,0,1,1,0],</span><br><span class="line">                        [0,0,0,0,1,1,0],</span><br><span class="line">                        [0,0,0,1,1,1,1]</span><br><span class="line"><span class="javascript">                    ],<span class="comment">//4</span></span></span><br><span class="line">                    [</span><br><span class="line">                        [1,1,1,1,1,1,1],</span><br><span class="line">                        [1,1,0,0,0,0,0],</span><br><span class="line">                        [1,1,0,0,0,0,0],</span><br><span class="line">                        [1,1,1,1,1,1,0],</span><br><span class="line">                        [0,0,0,0,0,1,1],</span><br><span class="line">                        [0,0,0,0,0,1,1],</span><br><span class="line">                        [0,0,0,0,0,1,1],</span><br><span class="line">                        [0,0,0,0,0,1,1],</span><br><span class="line">                        [1,1,0,0,0,1,1],</span><br><span class="line">                        [0,1,1,1,1,1,0]</span><br><span class="line"><span class="javascript">                    ],<span class="comment">//5</span></span></span><br><span class="line">                    [</span><br><span class="line">                        [0,0,0,0,1,1,0],</span><br><span class="line">                        [0,0,1,1,0,0,0],</span><br><span class="line">                        [0,1,1,0,0,0,0],</span><br><span class="line">                        [1,1,0,0,0,0,0],</span><br><span class="line">                        [1,1,0,1,1,1,0],</span><br><span class="line">                        [1,1,0,0,0,1,1],</span><br><span class="line">                        [1,1,0,0,0,1,1],</span><br><span class="line">                        [1,1,0,0,0,1,1],</span><br><span class="line">                        [1,1,0,0,0,1,1],</span><br><span class="line">                        [0,1,1,1,1,1,0]</span><br><span class="line"><span class="javascript">                    ],<span class="comment">//6</span></span></span><br><span class="line">                    [</span><br><span class="line">                        [1,1,1,1,1,1,1],</span><br><span class="line">                        [1,1,0,0,0,1,1],</span><br><span class="line">                        [0,0,0,0,1,1,0],</span><br><span class="line">                        [0,0,0,0,1,1,0],</span><br><span class="line">                        [0,0,0,1,1,0,0],</span><br><span class="line">                        [0,0,0,1,1,0,0],</span><br><span class="line">                        [0,0,1,1,0,0,0],</span><br><span class="line">                        [0,0,1,1,0,0,0],</span><br><span class="line">                        [0,0,1,1,0,0,0],</span><br><span class="line">                        [0,0,1,1,0,0,0]</span><br><span class="line"><span class="javascript">                    ],<span class="comment">//7</span></span></span><br><span class="line">                    [</span><br><span class="line">                        [0,1,1,1,1,1,0],</span><br><span class="line">                        [1,1,0,0,0,1,1],</span><br><span class="line">                        [1,1,0,0,0,1,1],</span><br><span class="line">                        [1,1,0,0,0,1,1],</span><br><span class="line">                        [0,1,1,1,1,1,0],</span><br><span class="line">                        [1,1,0,0,0,1,1],</span><br><span class="line">                        [1,1,0,0,0,1,1],</span><br><span class="line">                        [1,1,0,0,0,1,1],</span><br><span class="line">                        [1,1,0,0,0,1,1],</span><br><span class="line">                        [0,1,1,1,1,1,0]</span><br><span class="line"><span class="javascript">                    ],<span class="comment">//8</span></span></span><br><span class="line">                    [</span><br><span class="line">                        [0,1,1,1,1,1,0],</span><br><span class="line">                        [1,1,0,0,0,1,1],</span><br><span class="line">                        [1,1,0,0,0,1,1],</span><br><span class="line">                        [1,1,0,0,0,1,1],</span><br><span class="line">                        [0,1,1,1,0,1,1],</span><br><span class="line">                        [0,0,0,0,0,1,1],</span><br><span class="line">                        [0,0,0,0,0,1,1],</span><br><span class="line">                        [0,0,0,0,1,1,0],</span><br><span class="line">                        [0,0,0,1,1,0,0],</span><br><span class="line">                        [0,1,1,0,0,0,0]</span><br><span class="line"><span class="javascript">                    ],<span class="comment">//9</span></span></span><br><span class="line">                    [</span><br><span class="line">                        [0,0,0,0],</span><br><span class="line">                        [0,0,0,0],</span><br><span class="line">                        [0,1,1,0],</span><br><span class="line">                        [0,1,1,0],</span><br><span class="line">                        [0,0,0,0],</span><br><span class="line">                        [0,0,0,0],</span><br><span class="line">                        [0,1,1,0],</span><br><span class="line">                        [0,1,1,0],</span><br><span class="line">                        [0,0,0,0],</span><br><span class="line">                        [0,0,0,0]</span><br><span class="line"><span class="javascript">                    ]<span class="comment">//:</span></span></span><br><span class="line">                ];</span><br><span class="line"></span><br><span class="line"><span class="javascript">		<span class="function"><span class="keyword">function</span> <span class="title">drawDatetime</span>(<span class="params">cxt</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> nums = [];</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">			context.fillStyle=<span class="string">&quot;#005eac&quot;</span></span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> offsetX = <span class="number">70</span>, offsetY = <span class="number">30</span>;</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> hours = date.getHours();</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> num1 = <span class="built_in">Math</span>.floor(hours/<span class="number">10</span>);</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> num2 = hours%<span class="number">10</span>;</span></span><br><span class="line">			nums.push(&#123;num: num1&#125;);</span><br><span class="line">			nums.push(&#123;num: num2&#125;);</span><br><span class="line"><span class="javascript">			nums.push(&#123;<span class="attr">num</span>: <span class="number">10</span>&#125;); <span class="comment">//冒号</span></span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> minutes = date.getMinutes();</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> num1 = <span class="built_in">Math</span>.floor(minutes/<span class="number">10</span>);</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> num2 = minutes%<span class="number">10</span>;</span></span><br><span class="line">			nums.push(&#123;num: num1&#125;);</span><br><span class="line">			nums.push(&#123;num: num2&#125;);</span><br><span class="line"><span class="javascript">			nums.push(&#123;<span class="attr">num</span>: <span class="number">10</span>&#125;); <span class="comment">//冒号</span></span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> seconds = date.getSeconds();</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> num1 = <span class="built_in">Math</span>.floor(seconds/<span class="number">10</span>);</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> num2 = seconds%<span class="number">10</span>;</span></span><br><span class="line">			nums.push(&#123;num: num1&#125;);</span><br><span class="line">			nums.push(&#123;num: num2&#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">			<span class="keyword">for</span>(<span class="keyword">var</span> x = <span class="number">0</span>;x&lt;nums.length;x++)&#123;</span></span><br><span class="line">				nums[x].offsetX = offsetX;</span><br><span class="line">				offsetX = drawSingleNumber(offsetX,offsetY, nums[x].num,cxt);</span><br><span class="line"><span class="javascript">				<span class="comment">//两个数字连一块，应该间隔一些距离</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">if</span>(x&lt;nums.length-<span class="number">1</span>)&#123;</span></span><br><span class="line"><span class="javascript">					<span class="keyword">if</span>((nums[x].num!=<span class="number">10</span>) &amp;&amp;(nums[x+<span class="number">1</span>].num!=<span class="number">10</span>))&#123;</span></span><br><span class="line">						offsetX+=NUMBER_GAP;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">			<span class="comment">//说明这是初始化</span></span></span><br><span class="line"><span class="javascript">			<span class="keyword">if</span>(currentNums.length ==<span class="number">0</span>)&#123;</span></span><br><span class="line">				currentNums = nums;</span><br><span class="line"><span class="javascript">			&#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="javascript">				<span class="comment">//进行比较</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">for</span>(<span class="keyword">var</span> index = <span class="number">0</span>;index&lt;currentNums.length;index++)&#123;</span></span><br><span class="line"><span class="javascript">					<span class="keyword">if</span>(currentNums[index].num!=nums[index].num)&#123;</span></span><br><span class="line"><span class="javascript">						<span class="comment">//不一样时，添加彩色小球</span></span></span><br><span class="line">						addBalls(nums[index]);</span><br><span class="line">						currentNums[index].num=nums[index].num;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			renderBalls(cxt);</span><br><span class="line">			updateBalls();</span><br><span class="line"></span><br><span class="line"><span class="javascript">			<span class="keyword">return</span> date;</span></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">		<span class="function"><span class="keyword">function</span> <span class="title">addBalls</span> (<span class="params">item</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> num = item.num;</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> numMatrix = digit[num];</span></span><br><span class="line"><span class="javascript">			<span class="keyword">for</span>(<span class="keyword">var</span> y = <span class="number">0</span>;y&lt;numMatrix.length;y++)&#123;</span></span><br><span class="line"><span class="javascript">				<span class="keyword">for</span>(<span class="keyword">var</span> x = <span class="number">0</span>;x&lt;numMatrix[y].length;x++)&#123;</span></span><br><span class="line"><span class="javascript">					<span class="keyword">if</span>(numMatrix[y][x]==<span class="number">1</span>)&#123;</span></span><br><span class="line"><span class="javascript">						<span class="keyword">var</span> ball=&#123;</span></span><br><span class="line">							offsetX:item.offsetX+RADIUS+RADIUS*2*x,</span><br><span class="line">							offsetY:30+RADIUS+RADIUS*2*y,</span><br><span class="line"><span class="javascript">							color:colors[<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*colors.length)],</span></span><br><span class="line"><span class="javascript">							g:<span class="number">1.5</span>+<span class="built_in">Math</span>.random(),</span></span><br><span class="line"><span class="javascript">							vx:<span class="built_in">Math</span>.pow(-<span class="number">1</span>, <span class="built_in">Math</span>.ceil(<span class="built_in">Math</span>.random()*<span class="number">10</span>))*<span class="number">4</span>+<span class="built_in">Math</span>.random(),</span></span><br><span class="line">							vy:-5</span><br><span class="line">						&#125;</span><br><span class="line">						balls.push(ball);</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">		<span class="function"><span class="keyword">function</span> <span class="title">renderBalls</span>(<span class="params">cxt</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">			<span class="keyword">for</span>(<span class="keyword">var</span> index = <span class="number">0</span>;index&lt;balls.length;index++)&#123;</span></span><br><span class="line">				cxt.beginPath();</span><br><span class="line">				cxt.fillStyle=balls[index].color;</span><br><span class="line"><span class="javascript">				cxt.arc(balls[index].offsetX, balls[index].offsetY, RADIUS, <span class="number">0</span>, <span class="number">2</span>*<span class="built_in">Math</span>.PI);</span></span><br><span class="line">				cxt.fill();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">		<span class="function"><span class="keyword">function</span> <span class="title">updateBalls</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> i =<span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">			<span class="keyword">for</span>(<span class="keyword">var</span> index = <span class="number">0</span>;index&lt;balls.length;index++)&#123;</span></span><br><span class="line"><span class="javascript">				<span class="keyword">var</span> ball = balls[index];</span></span><br><span class="line">				ball.offsetX += ball.vx;</span><br><span class="line">				ball.offsetY += ball.vy;</span><br><span class="line">				ball.vy+=ball.g;</span><br><span class="line"><span class="javascript">				<span class="keyword">if</span>(ball.offsetY &gt; (WINDOW_HEIGHT-RADIUS))&#123;</span></span><br><span class="line">					ball.offsetY= WINDOW_HEIGHT-RADIUS;</span><br><span class="line">					ball.vy=-ball.vy*u;</span><br><span class="line">				&#125;</span><br><span class="line"><span class="javascript">				<span class="keyword">if</span>(ball.offsetX&gt;RADIUS&amp;&amp;ball.offsetX&lt;(WINDOW_WIDTH-RADIUS))&#123;</span></span><br><span class="line"></span><br><span class="line">					balls[i]=balls[index];</span><br><span class="line">					i++;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line"><span class="javascript">			<span class="comment">//去除出边界的球</span></span></span><br><span class="line"><span class="javascript">			<span class="keyword">for</span>(;i&lt;balls.length;i++)&#123;</span></span><br><span class="line">				balls.pop();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"><span class="javascript">		<span class="function"><span class="keyword">function</span> <span class="title">drawSingleNumber</span>(<span class="params">offsetX, offsetY, num, cxt</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">			<span class="keyword">var</span> numMatrix = digit[num];</span></span><br><span class="line"><span class="javascript">			<span class="keyword">for</span>(<span class="keyword">var</span> y = <span class="number">0</span>;y&lt;numMatrix.length;y++)&#123;</span></span><br><span class="line"><span class="javascript">				<span class="keyword">for</span>(<span class="keyword">var</span> x = <span class="number">0</span>;x&lt;numMatrix[y].length;x++)&#123;</span></span><br><span class="line"><span class="javascript">					<span class="keyword">if</span>(numMatrix[y][x]==<span class="number">1</span>)&#123;</span></span><br><span class="line">						cxt.beginPath();</span><br><span class="line"><span class="javascript">						cxt.arc(offsetX+RADIUS+RADIUS*<span class="number">2</span>*x,offsetY+RADIUS+RADIUS*<span class="number">2</span>*y,RADIUS,<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">Math</span>.PI);</span></span><br><span class="line">						cxt.fill();</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			cxt.beginPath();</span><br><span class="line">			offsetX += numMatrix[0].length*RADIUS*2;</span><br><span class="line"><span class="javascript">			<span class="keyword">return</span> offsetX;</span></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">&quot;canvas&quot;</span>);</span></span><br><span class="line">		canvas.width=WINDOW_WIDTH;</span><br><span class="line">		canvas.height=WINDOW_HEIGHT;</span><br><span class="line"><span class="javascript">		context = canvas.getContext(<span class="string">&quot;2d&quot;</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">		<span class="comment">//记录当前绘制的时刻</span></span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> currentDate = <span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">		<span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">			<span class="comment">//清空整个Canvas，重新绘制内容</span></span></span><br><span class="line">			context.clearRect(0, 0, context.canvas.width, context.canvas.height);</span><br><span class="line">			drawDatetime(context);</span><br><span class="line">		&#125;, 50)</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-id">#canvas</span> &#123;</span></span><br><span class="line">    width: 60%</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-id">#zzsc</span> &#123;</span></span><br><span class="line">    position: relative;</span><br><span class="line">    top: 20px;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>打开</strong>  <code>next/layout/_macro/sidebar.swig</code></p>
<p><strong>添加</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% include &#39;..&#x2F;_custom&#x2F;clock.swig&#39; %&#125;</span><br></pre></td></tr></table></figure>
<p>可根据自己的偏好来设置具体位置，我是加在了侧栏的末尾</p>
<h2 id="文章按更新时间排序"><a href="#文章按更新时间排序" class="headerlink" title=" 文章按更新时间排序"></a><sectionNumberC></sectionNumberC> <hTtileC>文章按更新时间排序</hTtileC></h2><blockquote>
<p><strong>本节转载自</strong>  <a href="https://qianling.pw/hexo-optimization/">千灵</a></p>
</blockquote>
<p><strong>打开</strong>  <code>\blog\_config.yml</code></p>
<p><strong>查找</strong>  <code>order_by: -date</code></p>
<p><strong>将</strong>  <code>-date</code></p>
<p><strong>改为</strong>  <code>-updated</code></p>
<h2 id="侧边栏按钮"><a href="#侧边栏按钮" class="headerlink" title=" 侧边栏按钮"></a><sectionNumberC></sectionNumberC> <hTtileC>侧边栏按钮</hTtileC></h2><p><strong>打开</strong>  <code>next/source/style/style.css</code></p>
<p><strong>添加</strong></p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 侧边栏按钮 */</span></span><br><span class="line"><span class="selector-class">.sidebar-toggle</span> &#123;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">150px</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">110px</span>;</span><br><span class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">scale</span>(<span class="number">5</span>);</span><br><span class="line">    <span class="attribute">-moz-transform</span>: <span class="built_in">scale</span>(<span class="number">5</span>);</span><br><span class="line">    <span class="attribute">-o-transform</span>: <span class="built_in">scale</span>(<span class="number">5</span>);</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.9</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0.1em</span> <span class="built_in">rgb</span>(<span class="number">0</span> <span class="number">0</span> <span class="number">0</span> / <span class="number">10%</span>) inset;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">box-sizing</span>: inherit;</span><br><span class="line">    <span class="attribute">background</span>: transparent;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.8</span>);</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.sidebar-toggle</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="live2d"><a href="#live2d" class="headerlink" title=" live2d"></a><sectionNumberC></sectionNumberC> <hTtileC>live2d</hTtileC></h2><p><strong>安装</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install --save hexo-helper-live2d</span><br><span class="line"></span><br><span class="line">npm install live2d-widget-model-haruto</span><br></pre></td></tr></table></figure>
<p><strong>打开</strong>  <code>blog/_config.yml</code></p>
<p><strong>添加</strong></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">live2d:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">scriptFrom:</span> <span class="string">local</span></span><br><span class="line">  <span class="attr">pluginRootPath:</span> <span class="string">live2dw/</span></span><br><span class="line">  <span class="attr">pluginJsPath:</span> <span class="string">lib/</span></span><br><span class="line">  <span class="attr">pluginModelPath:</span> <span class="string">assets/</span></span><br><span class="line">  <span class="attr">tagMode:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">log:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">model:</span></span><br><span class="line">    <span class="comment"># use: live2d-widget-model-koharu</span></span><br><span class="line">    <span class="attr">use:</span> <span class="string">live2d-widget-model-haruto</span></span><br><span class="line">  <span class="attr">display:</span></span><br><span class="line">    <span class="attr">position:</span> <span class="string">left</span></span><br><span class="line">    <span class="attr">width:</span> <span class="number">250</span></span><br><span class="line">    <span class="attr">height:</span> <span class="number">500</span></span><br><span class="line">  <span class="attr">mobile:</span></span><br><span class="line">    <span class="attr">show:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">react:</span></span><br><span class="line">    <span class="attr">opacity:</span> <span class="number">0.7</span></span><br></pre></td></tr></table></figure>
<p><strong>更多请查看：</strong>  <a href="https://github.com/EYHN/hexo-helper-live2d">https://github.com/EYHN/hexo-helper-live2d</a></p>
<h2 id="去除next主题目录自带序号"><a href="#去除next主题目录自带序号" class="headerlink" title=" 去除next主题目录自带序号"></a><sectionNumberC></sectionNumberC> <hTtileC>去除next主题目录自带序号</hTtileC></h2><p><strong>打开</strong>  <code>_config.yml</code></p>
<p><strong>查找</strong>  <code>toc</code></p>
<p><strong>修改</strong>  <code>number: false</code></p>
<h2 id="图片懒加载"><a href="#图片懒加载" class="headerlink" title=" 图片懒加载"></a><sectionNumberC></sectionNumberC> <hTtileC>图片懒加载</hTtileC></h2><blockquote>
<p><strong>本节转载自</strong>  <a href="https://qianling.pw/hexo-optimization/">千灵</a></p>
</blockquote>
<p><strong>安装</strong>  <code>npm install hexo-lazyload-image --save</code></p>
<p><strong>打开</strong>  <code>\blog\_config.yml</code></p>
<p><strong>添加</strong></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># LazyLoad</span></span><br><span class="line"><span class="attr">lazyload:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">onlypost:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">loadingImg:</span> <span class="string">/images/loading.gif</span></span><br></pre></td></tr></table></figure>
<p><strong class="ptys">onlypost</strong> - 如果为 true, 仅文章中的图片做懒加载, 如果为 false， 则主题中的其他图片，也会做懒加载，如头像、logo 等任何图片</p>
<p><strong class="ptys">loadingImg</strong> - 图片未加载时的代替图</p>
<h2 id="自定义一个不使用主题模板渲染的独立页面"><a href="#自定义一个不使用主题模板渲染的独立页面" class="headerlink" title=" 自定义一个不使用主题模板渲染的独立页面"></a><sectionNumberC></sectionNumberC> <hTtileC>自定义一个不使用主题模板渲染的独立页面</hTtileC></h2><h3 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a><strong>方法一</strong></h3><p><strong>打开</strong>  <code>blog/_cofing.yml</code></p>
<p><strong>查找</strong>  <code>skip_render</code></p>
<p><strong>添加你自定义的页面地址</strong></p>
<h3 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a><strong>方法二</strong></h3><p><strong>在文章头部的Front-matter里添加配置 <code>layout: false</code> 来跳过渲染配置</strong></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">关于</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2021-01-30 10:47:31</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">&quot;about&quot;</span></span><br><span class="line"><span class="attr">layout:</span> <span class="literal">false</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure>
<h2 id="背景图片轮播"><a href="#背景图片轮播" class="headerlink" title=" 背景图片轮播"></a><sectionNumberC></sectionNumberC> <hTtileC>背景图片轮播</hTtileC></h2><p><strong>打开</strong>  <code>next/source/js/script.js</code></p>
<p><strong>添加</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 轮播背景图片 */</span></span><br><span class="line"><span class="keyword">let</span> backstretchTest = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">import</span>(<span class="string">&#x27;https://cdnjs.cloudflare.com/ajax/libs/jquery-backstretch/2.0.4/jquery.backstretch.min.js&#x27;</span>)</span><br><span class="line">        $.backstretch([</span><br><span class="line">            <span class="string">&quot;/images/background/16.webp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;/images/background/12.webp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;/images/background/14.webp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;/images/background/15.webp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;/images/background/17.webp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;/images/background/1.jpg&quot;</span></span><br><span class="line">            <span class="comment">// duration 轮播图的时间</span></span><br><span class="line">        ], &#123; <span class="attr">duration</span>: <span class="number">60000</span>, <span class="attr">fade</span>: <span class="number">1000</span> &#125;);</span><br><span class="line">        <span class="built_in">clearInterval</span>(backstretchTest);</span><br><span class="line">    &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;, <span class="number">1000</span>);</span><br></pre></td></tr></table></figure>
<p><strong>打开</strong>  <code>next/source/style/style.css</code></p>
<p><strong>将上面写的改背景图的css改成⬇</strong></p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 背景图片 */</span></span><br><span class="line"><span class="selector-class">.backstretch</span>  &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong class="ptys">这个时候有个问题🤔，就是页面每次刷新的时候轮播背景也会刷新</strong></p>
<p><strong class="ptys">意味着不在一个页面停留足够的时间，后面的背景没有任何意义</strong></p>
<p><strong>修改如下</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 轮播背景图片 */</span></span><br><span class="line"><span class="keyword">let</span> backstretchTest = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">import</span>(<span class="string">&#x27;https://cdnjs.cloudflare.com/ajax/libs/jquery-backstretch/2.0.4/jquery.backstretch.min.js&#x27;</span>)</span><br><span class="line">        <span class="comment">// import(&#x27;./jquery.backstretch.min.js&#x27;)</span></span><br><span class="line">        <span class="keyword">let</span> a = $.backstretch([</span><br><span class="line">            <span class="string">&quot;/images/background/16.webp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;/images/background/12.webp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;/images/background/14.webp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;/images/background/15.webp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;/images/background/17.webp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;/images/background/1.jpg&quot;</span></span><br><span class="line">        ], &#123; <span class="attr">duration</span>: <span class="number">60000</span>, <span class="attr">fade</span>: <span class="number">1000</span> &#125;);</span><br><span class="line">        <span class="keyword">if</span> (sessionStorage.getItem(<span class="string">&#x27;index&#x27;</span>) === <span class="literal">null</span>) &#123;</span><br><span class="line">            sessionStorage.setItem(<span class="string">&#x27;index&#x27;</span>, <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        a.show(sessionStorage.getItem(<span class="string">&#x27;index&#x27;</span>))</span><br><span class="line">        a.next = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">let</span> index = <span class="built_in">parseInt</span>(sessionStorage.getItem(<span class="string">&#x27;index&#x27;</span>))</span><br><span class="line">            sessionStorage.setItem(<span class="string">&#x27;index&#x27;</span>, index &lt; <span class="built_in">this</span>.images.length - <span class="number">1</span> ? index + <span class="number">1</span> : <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>.show(sessionStorage.getItem(<span class="string">&#x27;index&#x27;</span>))</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">clearInterval</span>(backstretchTest);</span><br><span class="line">    &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;, <span class="number">1000</span>);</span><br></pre></td></tr></table></figure>
<p><strong class="ptys">这样就可以在不改源码的情况下实现只要网页不关轮播图一直走的效果了👌</strong></p>
<hr>

    <div id="aplayer-rpNyfmSZ" class="aplayer aplayer-tag-marker meting-tag-marker" data-id="1438690700" data-server="netease" data-type="song" data-mode="circulation" data-autoplay="false" data-mutex="true" data-listmaxheight="340px" data-preload="auto" data-theme="#555"></div>]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>美化</tag>
      </tags>
  </entry>
</search>
